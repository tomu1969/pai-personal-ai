<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Talking Chess</title>
  <meta name="description" content="Chess game with ELO-based opponent matching">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <header>
      <h1>Talking Chess</h1>
      <p class="subtitle">Play chess against an AI opponent matched to your skill level</p>
    </header>
    
    <main>
      <section id="game-section" class="hidden">
        <div id="board-container">
          <div id="chessboard"></div>
        </div>
        
        <div id="game-controls">
          <div id="turn-indicator" class="turn-indicator white-turn">
            <span class="piece-icon">♔</span>
            <span id="turn-text">White to move</span>
          </div>
          
          <div id="game-status">
            <p id="status-text">Set up your game to start playing</p>
          </div>
          
          <div id="move-history">
            <h3>Move History</h3>
            <div id="pgn-display"></div>
          </div>
        </div>
      </section>
      
      <section id="setup-section">
        <div class="setup-card">
          <h2>Game Setup</h2>
          
          <div class="input-group">
            <label for="elo-input">Your ELO Rating:</label>
            <input 
              type="number" 
              id="elo-input" 
              min="800" 
              max="3000" 
              value="1500" 
              placeholder="Enter your ELO (800-3000)"
            >
            <small class="help-text">Enter your current chess rating (800-3000)</small>
            <div id="elo-error-message" class="error-message hidden"></div>
            <div id="elo-category" class="elo-category">Intermediate</div>
          </div>
          
          <div class="input-group">
            <label for="strength-input">Opponent Strength:</label>
            <div class="preset-buttons">
              <button type="button" class="preset-btn" data-percentage="-20" data-name="Easy">Easy (-20%)</button>
              <button type="button" class="preset-btn" data-percentage="10" data-name="Normal">Normal (+10%)</button>
              <button type="button" class="preset-btn" data-percentage="30" data-name="Hard">Hard (+30%)</button>
              <button type="button" class="preset-btn" data-percentage="50" data-name="Expert">Expert (+50%)</button>
            </div>
            <input 
              type="range" 
              id="strength-input" 
              min="-50" 
              max="100" 
              value="10" 
              step="5"
            >
            <div class="strength-display">
              <span id="strength-percentage">+10%</span>
              <span id="opponent-elo">Target: 1650</span>
              <span id="recommended-indicator" class="hidden">⭐ Recommended</span>
            </div>
            <div id="opponent-category" class="elo-category">Advanced</div>
            <small class="help-text">Adjust opponent difficulty (-50% to +100%)</small>
          </div>
          
          <button id="start-game-btn" class="primary-button">Start Game</button>
        </div>
      </section>
    </main>
    
    <footer>
      <p>&copy; 2024 Talking Chess. Built with Chess.js and Stockfish.</p>
    </footer>
  </div>

  <!-- Loading indicator -->
  <div id="loading" class="hidden">
    <div class="loading-spinner"></div>
    <p>Loading chess engine...</p>
  </div>

  <!-- Error messages -->
  <div id="error-container" class="hidden">
    <div class="error-message">
      <h3>Error</h3>
      <p id="error-text"></p>
      <button onclick="location.reload()">Reload Page</button>
    </div>
  </div>

  <!-- External JavaScript Libraries -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
  <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
  
  <!-- Application JavaScript -->
  <script src="elo-calculator.js"></script>
  <script src="app.js"></script>
</body>
</html>